name: 自动部署 H5 招募页面

on:
  push:
    branches:
      - main  # 只有推送到主分支时才触发部署

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: 检出代码
        uses: actions/checkout@v3

      - name: 通过 SSH 部署到轻量云服务器
        uses: easingthemes/ssh-deploy@main
        env:
          SSH_PRIVATE_KEY: ${{ secrets.SERVER_SSH_KEY }} # 你的服务器私钥
          ARGS: "-avz --delete"
          SOURCE: "join.html" # 你要上传的文件
          REMOTE_HOST: ${{ secrets.SERVER_HOST }} # 服务器 IP
          REMOTE_USER: ${{ secrets.SERVER_USER }} # 服务器用户名（如 root）
          TARGET: "/var/www/html/recruit/" # 服务器上的存放路径
